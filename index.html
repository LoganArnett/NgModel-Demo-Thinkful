<!DOCTYPE html>
<html lang="en" ng-app="ngModelApp">
<head>
  <meta charset="UTF-8">
  <title>NgModel Options</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body ng-controller="MainCtrl as app">

  <header>
    <h1>Welcome to {{app.header}}</h1>
    <img src="https://camo.githubusercontent.com/6795c053f2fafee4d1c76f3a181876013827dd5e/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f333437303430322f313230383630372f32376637643134322d323564362d313165332d386330372d6139316532633736396435322e706e67" alt="Angular">
  </header>

  <section class="main">
    <h3>Ng-Model</h3>
    <div>
      <label>Default:</label>
      <input type="text" ng-model="app.header">
    </div>
    <hr>
    <h3>Ng-Model-Options</h3>
    <div>
      <label>Debounce</label>
      <!-- here we are delaying the update until 1 second after we finish typing -->
      <input ng-pattern="/^\d+$/" ng-model="app.header" ng-model-options="{ debounce: { 'default': 1000} }">
      <!-- the ng-pattern is looking for an integer not a string -->
    </div>
    <hr>
    <div>
      <label>Blur</label>
      <!-- here we are making sure that the model does not update until a blur event fires -->
      <input type="text" ng-model="app.header" ng-model-options="{ updateOn: 'blur'}">
    </div>
    <hr>
    <div>
      <label>Debounce And Blur</label>
      <!-- this combo allows us to delay with debounce for half a second or update immediately on blue -->
      <input type="text" ng-model="app.header" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 1500, 'blur': 0}}">
    </div>
    <h3>Rollback View Value</h3>
    <div>
      <form name="app.rollbackForm">
        <label>Try hitting the Cancel Key while in the input</label><br>
        <!-- here we bring in an ng-keyup to allow for the escape key to cancel our model change -->
        <!-- we also set our debounce on the blur event so that we can also utilize our button for cancel below -->
        <input type="text" ng-model="app.ideas" name="headerIdeas" ng-keyup="app.cancel($event)" ng-model-options="{ updateOn: 'blur', debounce: {'blur': 1000} }"><br>
        <label>Or hit the cancel button</label><br>
        <!-- here we call our cancelBtn function on click which will also reset our model -->
        <button ng-click="app.cancelBtn($event)">Cancel</button>
      </form>
    </div>
  </section>

  <script src="bower_components/angular/angular.min.js"></script>
  <script src="app/app.js"></script>
</body>
</html>
